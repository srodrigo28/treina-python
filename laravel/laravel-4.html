<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tutorial: Filament do Zero (Corrigido)</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        base: "var(--color-base)",
                        accent: "var(--color-accent)",
                        text: "var(--color-text)",
                        muted: "var(--color-muted)",
                        card: "var(--color-card)",
                        border: "var(--color-border)",
                    },
                    animation: {
                        'slide-up': 'slideUp 0.5s ease-out forwards',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        }
                    }
                },
            },
        };
    </script>
    <style>
        :root {
            --color-base: #0f172a;
            --color-accent: #f59e0b; /* Amber (Filament Brand) */
            --color-text: #f8fafc;
            --color-muted: #94a3b8;
            --color-card: #1e293b;
            --color-border: #334155;
        }

        .bg-pattern {
            background-image:
                radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.05) 1px, transparent 0),
                radial-gradient(circle at 20px 20px, rgba(245, 158, 11, 0.05) 1px, transparent 0);
            background-size: 32px 32px, 32px 32px;
        }

        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--color-base); }
        ::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--color-accent); }

        pre {
            background-color: #0d1117;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            border: 1px solid var(--color-border);
            margin: 0;
        }

        code { font-family: 'Fira Code', monospace; font-size: 0.875rem; color: #e2e8f0; }
        .step-content { display: none; }
        .step-content.active { display: block; animation: fadeIn 0.4s ease-in-out; }
        .nav-item.active { background-color: var(--color-accent); color: white; border-color: var(--color-accent); }
        
        /* Syntax Colors */
        .k { color: #ff79c6; }
        .s { color: #f1fa8c; }
        .f { color: #50fa7b; }
        .c { color: #6272a4; font-style: italic; }
    </style>
</head>

<body class="min-h-screen bg-base text-text bg-pattern flex flex-col md:flex-row overflow-hidden font-sans">

    <aside class="w-full md:w-80 bg-card border-r border-border flex flex-col h-auto md:h-screen z-10 shadow-xl">
        <div class="p-6 border-b border-border bg-base/50 backdrop-blur-sm">
            <div class="flex items-center gap-2 mb-1">
                <i data-lucide="box" class="text-accent w-7 h-7"></i>
                <div>
                    <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-orange-500">
                        Filament Full
                    </h1>
                    <p class="text-[10px] text-muted uppercase tracking-widest">Do Zero ao Painel</p>
                </div>
            </div>
        </div>

        <nav class="flex-1 overflow-y-auto p-4 space-y-2">
            
            <button onclick="showStep('step-intro')" class="nav-item w-full text-left px-4 py-3 rounded-lg border border-transparent hover:bg-white/5 transition flex items-center gap-3 active group">
                <span class="grid place-items-center w-5 h-5 rounded bg-white/10 text-[10px] font-mono group-hover:bg-white/20 transition">0</span>
                <span>O Fluxo Correto</span>
            </button>

            <div class="pt-4 pb-2 px-4 text-xs font-bold text-muted uppercase tracking-wider flex items-center gap-2">
                <i data-lucide="play" class="w-3 h-3"></i> Base (Laravel)
            </div>

            <button onclick="showStep('step-laravel')" class="nav-item w-full text-left px-4 py-3 rounded-lg border border-transparent hover:bg-white/5 transition flex items-center gap-3 group">
                <span class="grid place-items-center w-5 h-5 rounded bg-white/10 text-[10px] font-mono group-hover:bg-white/20 transition">1</span>
                <span>Criar Projeto Laravel</span>
            </button>

            <button onclick="showStep('step-db')" class="nav-item w-full text-left px-4 py-3 rounded-lg border border-transparent hover:bg-white/5 transition flex items-center gap-3 group">
                <span class="grid place-items-center w-5 h-5 rounded bg-white/10 text-[10px] font-mono group-hover:bg-white/20 transition">2</span>
                <span class="text-accent font-bold">Banco & Tabelas</span>
            </button>

            <div class="pt-4 pb-2 px-4 text-xs font-bold text-muted uppercase tracking-wider flex items-center gap-2">
                <i data-lucide="download" class="w-3 h-3"></i> Filament
            </div>

            <button onclick="showStep('step-install')" class="nav-item w-full text-left px-4 py-3 rounded-lg border border-transparent hover:bg-white/5 transition flex items-center gap-3 group">
                <span class="grid place-items-center w-6 h-6 rounded bg-white/10 text-xs font-mono group-hover:bg-white/20 transition">3</span>
                <span>Instalar o Painel</span>
            </button>

            <button onclick="showStep('step-user')" class="nav-item w-full text-left px-4 py-3 rounded-lg border border-transparent hover:bg-white/5 transition flex items-center gap-3 group">
                <span class="grid place-items-center w-6 h-6 rounded bg-white/10 text-xs font-mono group-hover:bg-white/20 transition">4</span>
                <span>Criar Usuário Admin</span>
            </button>

            <div class="pt-4 pb-2 px-4 text-xs font-bold text-muted uppercase tracking-wider flex items-center gap-2">
                <i data-lucide="layout-grid" class="w-3 h-3"></i> Construção
            </div>

            <button onclick="showStep('step-crud')" class="nav-item w-full text-left px-4 py-3 rounded-lg border border-transparent hover:bg-white/5 transition flex items-center gap-3 group">
                <span class="grid place-items-center w-5 h-5 rounded bg-white/10 text-[10px] font-mono group-hover:bg-white/20 transition">5</span>
                <span>Gerar CRUDs (Resources)</span>
            </button>
        </nav>
    </aside>

    <main class="flex-1 h-screen overflow-y-auto p-6 md:p-12 relative scroll-smooth">
        <div class="max-w-5xl mx-auto pb-20">

            <div id="step-intro" class="step-content active space-y-8 animate-fade-in">
                <div class="border-b border-border pb-6">
                    <span class="text-accent text-sm font-bold tracking-wider uppercase flex items-center gap-2 mb-2">
                        <span class="w-2 h-2 rounded-full bg-accent animate-pulse"></span> O Caminho Real
                    </span>
                    <h2 class="text-4xl md:text-5xl font-extrabold tracking-tight text-white mb-4">Filament não roda sozinho!</h2>
                    <p class="text-lg text-muted leading-relaxed max-w-2xl">
                        Para o Filament funcionar, ele precisa de tabelas no banco de dados. Se rodarmos o migrate sem tabelas, ele não faz nada. Vamos corrigir isso criando a estrutura de Clientes primeiro.
                    </p>
                </div>

                <div class="mt-8 flex justify-end">
                    <button onclick="showStep('step-laravel')" class="bg-accent hover:bg-orange-600 text-white px-8 py-4 rounded-xl font-bold transition flex items-center gap-2 shadow-lg">
                        Começar do Zero <i data-lucide="arrow-right" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>

            <div id="step-laravel" class="step-content space-y-8">
                <div class="border-b border-border pb-6">
                    <h2 class="text-3xl font-bold text-white">1. Criando a Base (Laravel)</h2>
                    <p class="text-muted mt-2">Primeiro, criamos uma aplicação Laravel padrão.</p>
                </div>

                <div class="space-y-4">
                    <h3 class="text-white font-bold text-sm">Terminal</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <div class="px-4 py-2 border-b border-border bg-base/50 text-xs text-muted font-mono flex justify-between">
                            <span>Terminal</span>
                            <button onclick="copyToClipboard(this)" class="hover:text-white flex gap-1"><i data-lucide="copy" class="w-3 h-3"></i></button>
                        </div>
                        <pre class="!border-0"><code class="language-bash"># Volte para a pasta de projetos
cd ..

# Crie o projeto chamado 'crm-filament'
composer create-project laravel/laravel crm-filament

# Entre na pasta
cd crm-filament</code></pre>
                    </div>
                </div>

                <div class="flex justify-between pt-6">
                    <button onclick="showStep('step-intro')" class="text-muted hover:text-white px-4 py-2 text-sm flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Voltar</button>
                    <button onclick="showStep('step-db')" class="bg-card border border-border hover:border-accent hover:text-accent text-white px-6 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">Próximo: Banco e Tabelas <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                </div>
            </div>

            <div id="step-db" class="step-content space-y-8">
                <div class="border-b border-border pb-6">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 rounded bg-red-500/20 text-red-400 text-xs font-bold border border-red-500/30">PASSO IMPORTANTE</span>
                    </div>
                    <h2 class="text-3xl font-bold text-white">2. Banco & Tabelas</h2>
                    <p class="text-muted mt-2">Vamos configurar o banco e JÁ criar a tabela de Clientes para que o migrate funcione de verdade.</p>
                </div>

                <div class="space-y-6">
                    <h3 class="text-white font-bold text-sm flex gap-2 items-center"><i data-lucide="settings" class="w-4 h-4 text-accent"></i> 1. Arquivo .env</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-properties">DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=crm_filament_db
DB_USERNAME=root
DB_PASSWORD=</code></pre>
                    </div>
                    <div class="text-xs text-muted">⚠️ Crie o banco <code>crm_filament_db</code> no seu gerenciador SQL agora.</div>

                    <h3 class="text-white font-bold text-sm flex gap-2 items-center mt-6"><i data-lucide="file-plus" class="w-4 h-4 text-accent"></i> 2. Criar Tabela de Clientes</h3>
                    <p class="text-sm text-muted">Execute este comando para gerar o arquivo de migração:</p>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-bash">php artisan make:model Customer -m</code></pre>
                    </div>

                    <h3 class="text-white font-bold text-sm mt-6">3. Editar a Migration (database/migrations/xxxx_create_customers_table.php)</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <button onclick="copyToClipboard(this)" class="absolute right-4 mt-2 text-xs text-muted hover:text-white">Copiar</button>
                        <pre class="!border-0"><code class="language-php"><span class="k">public function</span> <span class="f">up</span>(): <span class="k">void</span>
{
    Schema::<span class="f">create</span>(<span class="s">'customers'</span>, <span class="k">function</span> (Blueprint <span class="v">$table</span>) {
        <span class="v">$table</span>-><span class="f">id</span>();
        <span class="v">$table</span>-><span class="f">string</span>(<span class="s">'name'</span>);
        <span class="v">$table</span>-><span class="f">string</span>(<span class="s">'email'</span>)-><span class="f">unique</span>();
        <span class="v">$table</span>-><span class="f">string</span>(<span class="s">'type'</span>)-><span class="f">default</span>(<span class="s">'lead'</span>);
        <span class="v">$table</span>-><span class="f">boolean</span>(<span class="s">'active'</span>)-><span class="f">default</span>(<span class="k">true</span>);
        <span class="v">$table</span>-><span class="f">timestamps</span>();
    });
}</code></pre>
                    </div>

                    <h3 class="text-white font-bold text-sm mt-6 flex gap-2 items-center"><i data-lucide="play-circle" class="w-4 h-4 text-accent"></i> 4. Rodar o Migrate (Agora vai funcionar!)</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-bash">php artisan migrate</code></pre>
                    </div>
                    <div class="bg-green-500/10 border border-green-500/20 p-4 rounded-lg text-sm text-green-300">
                        <i data-lucide="check" class="w-4 h-4 inline mr-1"></i> Agora você verá tabelas sendo criadas: <code>users</code> e <code>customers</code>.
                    </div>
                </div>

                <div class="flex justify-between pt-6">
                    <button onclick="showStep('step-laravel')" class="text-muted hover:text-white px-4 py-2 text-sm flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Voltar</button>
                    <button onclick="showStep('step-install')" class="bg-card border border-border hover:border-accent hover:text-accent text-white px-6 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">Próximo: Instalar Filament <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                </div>
            </div>

            <div id="step-install" class="step-content space-y-8">
                <div class="border-b border-border pb-6">
                    <h2 class="text-3xl font-bold text-white">3. Instalando o Filament</h2>
                    <p class="text-muted mt-2">Com o banco pronto, o Filament pode se instalar.</p>
                </div>

                <div class="space-y-4">
                    <h3 class="text-white font-bold text-sm">1. Baixar o Pacote</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-bash">composer require filament/filament:"^3.2" -W</code></pre>
                    </div>

                    <h3 class="text-white font-bold text-sm mt-4">2. Instalar o Painel</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-bash">php artisan filament:install --panels</code></pre>
                    </div>
                    <div class="text-xs text-muted mt-2">Pode aceitar os padrões (digite ENTER). Se pedir para dar estrela no repo, digite "no".</div>
                </div>

                <div class="flex justify-between pt-6">
                    <button onclick="showStep('step-db')" class="text-muted hover:text-white px-4 py-2 text-sm flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Voltar</button>
                    <button onclick="showStep('step-user')" class="bg-card border border-border hover:border-accent hover:text-accent text-white px-6 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">Próximo: Criar Admin <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                </div>
            </div>

            <div id="step-user" class="step-content space-y-8">
                <div class="border-b border-border pb-6">
                    <h2 class="text-3xl font-bold text-white">4. Criando o Usuário Admin</h2>
                    <p class="text-muted mt-2">O Filament usa a tabela <code>users</code> padrão do Laravel, que já criamos no passo 2.</p>
                </div>

                <div class="space-y-4">
                    <h3 class="text-white font-bold text-sm">Comando de Criação</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-bash">php artisan make:filament-user</code></pre>
                    </div>
                    
                    <div class="bg-black/30 p-4 rounded border border-border font-mono text-sm text-gray-300">
                        <p class="text-accent mb-2">Responda no terminal:</p>
                        <p>Name: <span class="text-white">Admin</span></p>
                        <p>Email: <span class="text-white">admin@admin.com</span></p>
                        <p>Password: <span class="text-white">password</span></p>
                    </div>

                    <div class="bg-card rounded-lg border border-border p-4 mt-6">
                        <h3 class="text-white font-bold mb-2">Testar Login</h3>
                        <p class="text-sm text-muted mb-2">Inicie o servidor:</p>
                        <code class="bg-black/30 px-2 py-1 rounded">php artisan serve</code>
                        <p class="text-sm text-muted mt-2">Acesse: <a href="http://127.0.0.1:8000/admin" target="_blank" class="text-accent underline">http://127.0.0.1:8000/admin</a></p>
                    </div>
                </div>

                <div class="flex justify-between pt-6">
                    <button onclick="showStep('step-install')" class="text-muted hover:text-white px-4 py-2 text-sm flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Voltar</button>
                    <button onclick="showStep('step-crud')" class="bg-card border border-border hover:border-accent hover:text-accent text-white px-6 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">Próximo: Gerar Telas <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                </div>
            </div>

            <div id="step-crud" class="step-content space-y-8">
                <div class="border-b border-border pb-6">
                    <h2 class="text-3xl font-bold text-white">5. Gerar CRUDs (A Mágica)</h2>
                    <p class="text-muted mt-2">Vamos criar as telas de gerenciamento para Usuários e Clientes usando apenas comandos.</p>
                </div>

                <div class="space-y-6">
                    <h3 class="text-white font-bold text-sm">1. Gerar CRUD de Usuários</h3>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-bash">php artisan make:filament-resource User --generate</code></pre>
                    </div>
                    
                    <h3 class="text-white font-bold text-sm mt-4">2. Gerar CRUD de Clientes</h3>
                    <p class="text-xs text-muted">A flag <code>--generate</code> lê a migration que criamos no Passo 2 e monta o formulário sozinho!</p>
                    <div class="bg-card rounded-lg border border-border overflow-hidden">
                        <pre class="!border-0"><code class="language-bash">php artisan make:filament-resource Customer --generate</code></pre>
                    </div>

                    <div class="bg-blue-500/10 border border-blue-500/20 p-4 rounded-lg mt-6">
                        <p class="text-sm text-blue-200 font-bold mb-2">Resultado Final:</p>
                        <p class="text-sm text-blue-200">
                            Volte ao navegador e atualize a página. Você verá <strong>Users</strong> e <strong>Customers</strong> no menu lateral. Você pode criar, editar e excluir registros sem ter escrito uma linha de HTML.
                        </p>
                    </div>
                </div>

                <div class="flex justify-between pt-6 pb-20">
                    <button onclick="showStep('step-user')" class="text-muted hover:text-white px-4 py-2 text-sm flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Voltar</button>
                    <button onclick="showStep('step-intro')" class="bg-accent hover:bg-orange-600 text-white px-6 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 shadow-lg">Reiniciar <i data-lucide="rotate-ccw" class="w-4 h-4"></i></button>
                </div>
            </div>

        </div>
    </main>

    <script>
        lucide.createIcons();

        function showStep(stepId) {
            document.querySelectorAll('.step-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));

            const content = document.getElementById(stepId);
            content.classList.remove('active');
            void content.offsetWidth;
            content.classList.add('active');

            document.querySelector('main').scrollTop = 0;

            const btn = document.querySelector(`button[onclick="showStep('${stepId}')"]`);
            if (btn) btn.classList.add('active');
        }

        function copyToClipboard(button) {
            const parent = button.closest('.rounded-lg');
            const codeBlock = parent.querySelector('code');
            const code = codeBlock.innerText;

            navigator.clipboard.writeText(code).then(() => {
                const originalContent = button.innerHTML;
                button.innerHTML = `<i data-lucide="check" class="w-3 h-3"></i>`;
                button.classList.add('text-green-400');
                lucide.createIcons();
                setTimeout(() => {
                    button.innerHTML = originalContent;
                    button.classList.remove('text-green-400');
                    lucide.createIcons();
                }, 2000);
            });
        }
    </script>
</body>
</html>